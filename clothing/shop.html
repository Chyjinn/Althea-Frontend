<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Latest compiled and minified CSS -->

	  <link rel="stylesheet" href="./css/styles.css" type="text/css" />
	  <script src="https://kit.fontawesome.com/2e18c099ce.js" crossorigin="anonymous"></script>
</head>
<body>

  <div class="container">
	<div class="window">
		<div class="shopname">Textile City Binco</div>
		<div class="categories">
			<div id="shirt" class="category"><i class="icon fa-solid fa-shirt"></i></div>
			<div id="shirt" class="category"><i class="icon fa-solid fa-shirt"></i></div>
			<div id="shirt" class="category"><i class="icon fa-solid fa-shirt"></i></div>
			<div id="shirt" class="category"><i class="icon fa-solid fa-shirt"></i></div>
			<div id="shirt" class="category"><i class="icon fa-solid fa-shirt"></i></div>


		</div>
	</div>

  
</body>
<script>
	var category = -1;
	var categoriesButtons = document.querySelectorAll('.category');
	var categories = document.querySelector('.categories');
	var shopname = document.querySelector('.shopname');
	categoriesButtons.forEach((element) => element.addEventListener('click',selectCategory));


	function addCategory(id)
	{
		let newCat = document.createElement('div');
		newCat.id = id;
		newItem.className = 'category';
		switch(id)
		{
			case 'shirt':
				newCat.innerHTML = '<i class="icon fa-solid fa-shirt"></i>';
				break;
		}

		categories.appendChild(newCat);
	}

	function selectCategory(ev)
	{
		let target = ev.target.id;
		console.log(target);
		categories.classList.add('invisible');
	}

	function setShopName(name)
	{
		shopname.innerHTML = name;
	}
	
  let attributes = [
	['slot1drawable','Maszk modell: ', 1],
	['slot1texture','Maszk textúra: ', 1],
	['slot3drawable','Test modell: ', 3],
	['slot4drawable','Nadrág modell: ', 4],
	['slot4texture','Nadrág textúra: ', 4],
	['slot5drawable','Táska modell: ', 5],
	['slot5texture','Táska textúra: ', 5],
	['slot6drawable','Cipő modell: ', 6],
	['slot6texture','Cipő textúra: ', 6],
	['slot7drawable','Kiegészítő modell: ', 7],
	['slot7texture','Kiegészítő textúra: ', 7],
	['slot8drawable','Undershirt modell: ', 8],
	['slot8texture','Undershirt textúra: ', 8],
	['slot9drawable','Body armor modell: ', 9],
	['slot9texture','Body textúra: ', 9],
	['slot11drawable','Felső modell: ', 11],
	['slot11texture','Felső textúra: ', 11],
  ];
  
  
	function GetAttributeText(label)
		{
		  for (let i = 0; i < attributes.length; i++) {
		  if (label === attributes[i][0])
			  {
				return attributes[i][1];
			  }
			}
		}
		


	function GetAttributeId(label)
		{
		  for (let i = 0; i < attributes.length; i++) {
		  if (label === attributes[i][0])
			  {
				return attributes[i][2];
			  }
			}
		}
  

	function UpdateSlider(event){
		var source = event.target || event.srcElement;
		var labelname = source.id + '-label';
		var label = document.getElementById(source.id + '-label');
		var ertek = source.value
		if (ertek == -1 && GetAttributeId(source.id) > 32)
		{
			ertek = 255;
		}
		
		label.innerHTML = GetAttributeText(source.id) + ertek;
		var fos = source.id;
		if (fos.includes('drawable'))
		{
			mp.trigger("client:DrawableToServer", GetAttributeId(source.id), ertek );
		}
		else
		{
			mp.trigger("client:TextureToServer", GetAttributeId(source.id), ertek );
		}
		
	}

	function UpdateLabel(source)
	{
		var labelname = source.id + '-label';
		var label = document.getElementById(source.id + '-label');
		var ertek = source.value
		if (ertek == -1 && GetAttributeId(source.id) > 32)
		{
			ertek = 255;
		}
		label.innerHTML = GetAttributeText(source.id) + ertek;
	}
	
	
  
  
  for (let i = 0; i < attributes.length; i++) {
  var element = document.getElementById(attributes[i][0]);
  element.addEventListener('input',UpdateSlider);
  UpdateLabel(element);
	}
	
	var finishButton = document.getElementById('done');
	

	
	finishButton.addEventListener('click', finishEditing);
	
	function finishEditing()
	{

			mp.trigger("client:CloseClothingShop");
	}
</script>
</html>