<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Latest compiled and minified CSS -->

	  <link rel="stylesheet" href="./css/styles.css" type="text/css" />
	  <script src="https://kit.fontawesome.com/2e18c099ce.js" crossorigin="anonymous"></script>
</head>
<body>
<div class="content">
	<div class="categorychooser">
		<div class="window">
			<div class="shopname">Textile City Binco</div>

			<div class="categories">
				<div id="shirt" class="category"><i class="icon fa-solid fa-shirt"></i></div>
				<div id="shirt" class="category"><i class="icon fa-solid fa-shirt"></i></div>
				<div id="shirt" class="category"><i class="icon fa-solid fa-shirt"></i></div>
				<div id="shirt" class="category"><i class="icon fa-solid fa-shirt"></i></div>
				<div id="shirt" class="category"><i class="icon fa-solid fa-shirt"></i></div>
			</div>

			<div class="clothes">
				<div id="clothingid lesz" class="clothing"><img src="css/placeholder.png" alt=""><div class="name">Name</div><div class="price">$ 50</div></div>
			</div>
		</div>

</div>


  
</body>
<script>
	var categoriesButtons = document.querySelectorAll('.category');
	var categories = document.querySelector('.categories');
	var shopname = document.querySelector('.shopname');
	

	var clothesWindow = document.querySelector('.clothes');
	var clothes = null; //összes ruha listája

	var lastSelectedClothing = null;
	var basket = null;
	categoriesButtons.forEach((element) => element.addEventListener('click',selectCategory));

	function clearCategories(){
      categoriesButtons = document.querySelectorAll('.category');
      categoriesButtons.forEach(remove_every_item);

      function remove_every_item(item){
          item.remove();

      }
    }

	function clearClothes(){
		clothes = document.querySelectorAll('.clothing');
		clothes.forEach(remove_every_item);

      function remove_every_item(item){
          item.remove();

      }
    }


	function addClothing(id, name, price, picture)
	{
		let newClothing = document.createElement('div');
		newClothing.id = id;
		newClothing.className = 'clothing';
		newClothing.innerHTML = '<img src="'+picture+'"></img>'+
				'<div class="name">'+name+'</div>'+
            	'<div class="price">$ '+price+'</div>';
				clothesWindow.appendChild(newClothing);
		newClothing.addEventListener('click', selectClothing);

	}

	function selectClothing(ev)
	{
		//hozzáadjuk az id alapján a kosárhoz
		lastSelectedClothing = ev.target;
		console.log(ev.target.id);
		mp.trigger('client:SelectClothing', ev.target.id);
	}


	function addCategory(id)
	{
		let newCat = document.createElement('div');
		newCat.id = id;
		newCat.className = 'category';
		switch(id)
		{
				case 'mask':
				newCat.innerHTML = '<i id="'+id+'" class="fa-solid fa-mask"></i>';
				break;
				case 'glasses':
				newCat.innerHTML = '<i id="'+id+'" class="fa-solid fa-glasses"></i>';
				break;
				case 'bags':
				newCat.innerHTML = '<i id="'+id+'" class="fa-solid fa-bag-shopping"></i>';
				break;
				case 'shoes':
				newCat.innerHTML = '<i id="'+id+'" class="fa-solid fa-socks"></i>';
				break;
				case 'legs':
				newCat.innerHTML = '<i id="'+id+'" class="icon fa-solid fa-shirt"></i>';
				break;
				case 'shirt':
				newCat.innerHTML = '<i id="'+id+'" class="icon fa-solid fa-shirt"></i>';
		}

		categories.appendChild(newCat);
		categoriesButtons = document.querySelectorAll('.category');
		categoriesButtons.forEach((element) => element.addEventListener('click',selectCategory));
	}

	function selectCategory(ev)
	{	
		categoriesButtons.forEach((element) => element.style.color = 'white');
		ev.target.style.color = 'red';
		console.log(ev.target.id);
		mp.trigger('client:SelectClothingCategory', ev.target.id);
	}

	function setShopName(name)
	{
		shopname.innerHTML = name;
	}
	/*
  let attributes = [
	['slot1drawable','Maszk modell: ', 1],
	['slot1texture','Maszk textúra: ', 1],
	['slot3drawable','Test modell: ', 3],
	['slot4drawable','Nadrág modell: ', 4],
	['slot4texture','Nadrág textúra: ', 4],
	['slot5drawable','Táska modell: ', 5],
	['slot5texture','Táska textúra: ', 5],
	['slot6drawable','Cipő modell: ', 6],
	['slot6texture','Cipő textúra: ', 6],
	['slot7drawable','Kiegészítő modell: ', 7],
	['slot7texture','Kiegészítő textúra: ', 7],
	['slot8drawable','Undershirt modell: ', 8],
	['slot8texture','Undershirt textúra: ', 8],
	['slot9drawable','Body armor modell: ', 9],
	['slot9texture','Body textúra: ', 9],
	['slot11drawable','Felső modell: ', 11],
	['slot11texture','Felső textúra: ', 11],
  ];
  
  
	function GetAttributeText(label)
		{
		  for (let i = 0; i < attributes.length; i++) {
		  if (label === attributes[i][0])
			  {
				return attributes[i][1];
			  }
			}
		}
		


	function GetAttributeId(label)
		{
		  for (let i = 0; i < attributes.length; i++) {
		  if (label === attributes[i][0])
			  {
				return attributes[i][2];
			  }
			}
		}
  

	function UpdateSlider(event){
		var source = event.target || event.srcElement;
		var labelname = source.id + '-label';
		var label = document.getElementById(source.id + '-label');
		var ertek = source.value
		if (ertek == -1 && GetAttributeId(source.id) > 32)
		{
			ertek = 255;
		}
		
		label.innerHTML = GetAttributeText(source.id) + ertek;
		var fos = source.id;
		if (fos.includes('drawable'))
		{
			mp.trigger("client:DrawableToServer", GetAttributeId(source.id), ertek );
		}
		else
		{
			mp.trigger("client:TextureToServer", GetAttributeId(source.id), ertek );
		}
		
	}

	function UpdateLabel(source)
	{
		var labelname = source.id + '-label';
		var label = document.getElementById(source.id + '-label');
		var ertek = source.value
		if (ertek == -1 && GetAttributeId(source.id) > 32)
		{
			ertek = 255;
		}
		label.innerHTML = GetAttributeText(source.id) + ertek;
	}
	
	
  
  
  for (let i = 0; i < attributes.length; i++) {
  var element = document.getElementById(attributes[i][0]);
  element.addEventListener('input',UpdateSlider);
  UpdateLabel(element);
	}
	
	var finishButton = document.getElementById('done');
	

	
	finishButton.addEventListener('click', finishEditing);
	
	function finishEditing()
	{

			mp.trigger("client:CloseClothingShop");
	}*/
</script>
</html>