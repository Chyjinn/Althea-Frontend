<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>

	<!-- Latest compiled JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
	  <link rel="stylesheet" href="./css/styles.css" type="text/css" />
</head>
<body>

  <div class="container">
    <div class="row">
		
		<section id="charedit" class="col-lg-4">
			
			<div class="attribute-group">
			<label id="slot1drawable-label" for="slot1drawable" class="form-label">-</label>
			<input id="slot1drawable" type="range" class="form-range" name="points" step="1" min="0" max="500" value="0">
			<label id="slot1texture-label" for="slot1texture" class="form-label">-</label>
			<input id="slot1texture" type="range" class="form-range" name="points" step="1" min="0" max="20" value="0">
			</div>
			
			
			<div class="attribute-group">
			<label id="slot11drawable-label" for="slot11drawable" class="form-label">-</label>
			<input id="slot11drawable" type="range" class="form-range" name="points" step="1" min="0" max="700" value="0">
			<label id="slot11texture-label" for="slot11texture" class="form-label">-</label>
			<input id="slot11texture" type="range" class="form-range" name="points" step="1" min="0" max="20" value="0">
			</div>
			
			
			<div class="attribute-group">
			<label id="slot3drawable-label" for="slot3drawable" class="form-label">-</label>
			<input id="slot3drawable" type="range" class="form-range" name="points" step="1" min="0" max="500" value="0">
			</div>
			
			<div class="attribute-group">
			<label id="slot8drawable-label" for="slot8drawable" class="form-label">-</label>
			<input id="slot8drawable" type="range" class="form-range" name="points" step="1" min="0" max="500" value="0">
			<label id="slot8texture-label" for="slot8texture" class="form-label">-</label>
			<input id="slot8texture" type="range" class="form-range" name="points" step="1" min="0" max="20" value="0">
			</div>
			
			
			<div class="attribute-group">
			<label id="slot4drawable-label" for="slot4drawable" class="form-label">-</label>
			<input id="slot4drawable" type="range" class="form-range" name="points" step="1" min="0" max="250" value="0">
			<label id="slot4texture-label" for="slot4texture" class="form-label">-</label>
			<input id="slot4texture" type="range" class="form-range" name="points" step="1" min="0" max="20" value="0">
			</div>
		
			
			<div class="attribute-group">
			<label id="slot6drawable-label" for="slot6drawable" class="form-label">-</label>
			<input id="slot6drawable" type="range" class="form-range" name="points" step="1" min="0" max="500" value="0">
			<label id="slot6texture-label" for="slot6texture" class="form-label">-</label>
			<input id="slot6texture" type="range" class="form-range" name="points" step="1" min="0" max="20" value="0">
			</div>
			
			<div class="attribute-group">
			<label id="slot7drawable-label" for="slot7drawable" class="form-label">-</label>
			<input id="slot7drawable" type="range" class="form-range" name="points" step="1" min="0" max="500" value="0">
			<label id="slot7texture-label" for="slot7texture" class="form-label">-</label>
			<input id="slot7texture" type="range" class="form-range" name="points" step="1" min="0" max="10" value="0">
			</div>
			
			<div class="attribute-group">
			<label id="slot5drawable-label" for="slot5drawable" class="form-label">-</label>
			<input id="slot5drawable" type="range" class="form-range" name="points" step="1" min="0" max="500" value="0">
			<label id="slot5texture-label" for="slot5texture" class="form-label">-</label>
			<input id="slot5texture" type="range" class="form-range" name="points" step="1" min="0" max="20" value="0">
			</div>
			
			<div class="attribute-group">
			<label id="slot9drawable-label" for="slot9drawable" class="form-label">-</label>
			<input id="slot9drawable" type="range" class="form-range" name="points" step="1" min="0" max="500" value="0">
			<label id="slot9texture-label" for="slot9texture" class="form-label">-</label>
			<input id="slot9texture" type="range" class="form-range" name="points" step="1" min="0" max="10" value="0">
			</div>

			

			
	
        </section>				

			<input id="done" type="submit" class="btn btn-primary" value="Befejezés" />
        </section>

  </div>
  </div>
  
</body>
<script>
  let attributes = [
	['slot1drawable','Maszk modell: ', 1],
	['slot1texture','Maszk textúra: ', 1],
	['slot3drawable','Test modell: ', 3],
	['slot4drawable','Nadrág modell: ', 4],
	['slot4texture','Nadrág textúra: ', 4],
	['slot5drawable','Táska modell: ', 5],
	['slot5texture','Táska textúra: ', 5],
	['slot6drawable','Cipő modell: ', 6],
	['slot6texture','Cipő textúra: ', 6],
	['slot7drawable','Kiegészítő modell: ', 7],
	['slot7texture','Kiegészítő textúra: ', 7],
	['slot8drawable','Undershirt modell: ', 8],
	['slot8texture','Undershirt textúra: ', 8],
	['slot9drawable','Body armor modell: ', 9],
	['slot9texture','Body textúra: ', 9],
	['slot11drawable','Felső modell: ', 11],
	['slot11texture','Felső textúra: ', 11],
  ];
  
  
	function GetAttributeText(label)
		{
		  for (let i = 0; i < attributes.length; i++) {
		  if (label === attributes[i][0])
			  {
				return attributes[i][1];
			  }
			}
		}
		


	function GetAttributeId(label)
		{
		  for (let i = 0; i < attributes.length; i++) {
		  if (label === attributes[i][0])
			  {
				return attributes[i][2];
			  }
			}
		}
  

	function UpdateSlider(event){
		var source = event.target || event.srcElement;
		var labelname = source.id + '-label';
		var label = document.getElementById(source.id + '-label');
		var ertek = source.value
		if (ertek == -1 && GetAttributeId(source.id) > 32)
		{
			ertek = 255;
		}
		
		label.innerHTML = GetAttributeText(source.id) + ertek;
		var fos = source.id;
		if (fos.includes('drawable'))
		{
			mp.trigger("client:DrawableToServer", GetAttributeId(source.id), ertek );
		}
		else
		{
			mp.trigger("client:TextureToServer", GetAttributeId(source.id), ertek );
		}
		
	}

	function UpdateLabel(source)
	{
		var labelname = source.id + '-label';
		var label = document.getElementById(source.id + '-label');
		var ertek = source.value
		if (ertek == -1 && GetAttributeId(source.id) > 32)
		{
			ertek = 255;
		}
		label.innerHTML = GetAttributeText(source.id) + ertek;
	}
	
	
  
  
  for (let i = 0; i < attributes.length; i++) {
  var element = document.getElementById(attributes[i][0]);
  element.addEventListener('input',UpdateSlider);
  UpdateLabel(element);
	}
	
	var finishButton = document.getElementById('done');
	

	
	finishButton.addEventListener('click', finishEditing);
	
	function finishEditing()
	{

			mp.trigger("client:CloseClothingShop");
	}
</script>
</html>