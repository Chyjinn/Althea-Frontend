<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/styles.css" type="text/css" />
</head>
<body>

<div class="inv">

<div class="header">
	<image src="css/logo.png" id="logo">
	<image src="css/ember.png" id="inv-button" onclick="Show('Inventory');">
	<image src="css/taska.png" id="bag-button" onclick="Show('Bag');">
	<image src="css/kulcs.png" id="key-button" onclick="Show('Keys');">
	<image src="css/irat.png" id="paper-button" onclick="Show('Papers');">
	<image src="css/ruha.png" id="clothes-button" onclick="Show('Clothes');">
	<input type="text" id="amount">
</div>


<div id="Inventory" class="page" style="display:block">

<div class="slots" id="slot1">
<image id="1" class="item" src="css/fegyo.png" draggable="false">
</div>

<div class="slots" id="slot2">
</div>

<div class="slots" id="slot3">
</div>

<div class="slots" id="slot4">
</div>

<div class="slots" id="slot5">
</div>

<div class="slots" id="slot6">
</div>

<div class="slots" id="slot7">
</div>

<div class="slots" id="slot8">
</div>

<div class="slots" id="slot9">
</div>

<div class="slots" id="slot10">
</div>


<div class="slots" id="slot11">
</div>

<div class="slots" id="slot12">
</div>

<div class="slots" id="slot13">
</div>

<div class="slots" id="slot14">
</div>

<div class="slots" id="slot15">
</div>

<div class="slots" id="slot16">
</div>

<div class="slots" id="slot17">
</div>

<div class="slots" id="slot18">
</div>

<div class="slots" id="slot19">
</div>

<div class="slots" id="slot20">
</div>

<div class="slots" id="slot21">
</div>

<div class="slots" id="slot22">
</div>

<div class="slots" id="slot23">
</div>

<div class="slots" id="slot24">
</div>

<div class="slots" id="slot25">
</div>

<div class="slots" id="slot26">
</div>

<div class="slots" id="slot27">
</div>

<div class="slots" id="slot28">
</div>

<div class="slots" id="slot29">
</div>

<div class="slots" id="slot30">
</div>



<div class="slots" id="slot31">
</div>

<div class="slots" id="slot32">
</div>

<div class="slots" id="slot33">
</div>

<div class="slots" id="slot34">
</div>

<div class="slots" id="slot35">
</div>

<div class="slots" id="slot36">
</div>

<div class="slots" id="slot37">
</div>

<div class="slots" id="slot38">
</div>

<div class="slots" id="slot39">
</div>

<div class="slots" id="slot40">
</div>


<div class="slots" id="slot41">
</div>

<div class="slots" id="slot42">
</div>

<div class="slots" id="slot43">
</div>

<div class="slots" id="slot44">
</div>

<div class="slots" id="slot45">
</div>

<div class="slots" id="slot46">
</div>

<div class="slots" id="slot47">
</div>

<div class="slots" id="slot48">
</div>

<div class="slots" id="slot49">
</div>

<div class="slots" id="slot50">
</div>


</div>

<div id="Bag" class="page" style="display:block">


</div>


<div id="Keys" class="page" style="display:block">


</div>

<div id="Papers" class="page" style="display:block">


</div>

<div id="Clothes" class="page" style="display:block">


</div>
</div>
    </body>

    <script>
	
const draggbles = document.querySelectorAll(".item")
const containers = document.querySelectorAll(".slots")
var dragitem;


function StartDrag(){


}


function DragItem(event)
{
	mousePos = { x: event.clientX, y: event.clientY };
	document.body.appendChild(dragitem);
	dragitem.style.left = mousePos.x+'px';
	dragitem.style.top = mousePos.y+'px';
}

function MoveToSlot(x,y)
{
	var targetSlot = document.elementFromPoint(x,y);
	console.log("lefut legajább");
	dragitem.parent = targetSlot;
	dragitem = null;
}


function StopDrag(){

}
	draggbles.forEach((draggble) => {
	//ha lenyomja a gombot akkor mentjük az element amire klikkelt és elkezdjük hívni a DragItem-et ami mozgatja a cuccot
	  draggble.addEventListener("mousedown", () => {
		dragitem = draggble;
		dragitem.addEventListener("mousemove", DragItem);
	  });
	  
	  draggble.addEventListener("mouseup", (event) => {
		mousePos = { x: event.clientX, y: event.clientY };
		MoveToSlot(x,y);
		dragitem.removeEventListener("mousemove", DragItem);
	  });
	  
		
	  });
	  //ha elengedi akkor nullázzuk az elemet, levesszük a dragitemet, és be akarjuk majd illeszteni az új slotra
		

	  

	



	function Show(elementID) {
	var ele = document.getElementById(elementID);
		if (!ele) {
			alert("No Such Page Found.");
			return;
		}
		
	var pages = document.getElementsByClassName('page');
		for(var i = 0; i < pages.length; i++) {
			pages[i].style.display = 'none';
		}
		ele.style.display = 'block';
		}
		
		var item = document.getElementById('1');
		
		item.addEventListener('contextmenu', (event) => {
		event.preventDefault();
		item.parentElement.style.border = "solid green 1px";
		return false;
	}, false);
    </script>
</html>